(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ef7093c"],{4563:function(t,a,e){},"88ba":function(t,a,e){"use strict";var o=e("4563"),n=e.n(o);n.a},b20f:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"edit-info"},[e("h2",{staticClass:"title"},[t._v("\n        "+t._s("修改公号"==t.$route.name?"编辑公号信息":"接管新公号")+"\n    ")]),e("Form",{staticClass:"form-group",attrs:{model:t.formData,"label-position":"right","label-width":100}},[e("FormItem",{attrs:{label:"公号名称",prop:"name"}},[e("Input",{attrs:{size:"large",type:"text",placeholder:"请输入公号名称"},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),e("FormItem",{attrs:{label:"appid",prop:"appid"}},[e("Input",{attrs:{size:"large",type:"text",placeholder:"请输入appid"},on:{"on-blur":t.trim},model:{value:t.formData.appid,callback:function(a){t.$set(t.formData,"appid",a)},expression:"formData.appid"}})],1),e("FormItem",{attrs:{label:"appsecret",prop:"appsecret"}},[e("Input",{attrs:{size:"large",type:"text",placeholder:"请输入appsecret"},on:{"on-blur":t.trim},model:{value:t.formData.appsecret,callback:function(a){t.$set(t.formData,"appsecret",a)},expression:"formData.appsecret"}})],1),e("FormItem",{attrs:{label:"token",prop:"token"}},[e("Input",{attrs:{size:"large",type:"text",placeholder:"请输入token"},model:{value:t.formData.token,callback:function(a){t.$set(t.formData,"token",a)},expression:"formData.token"}})],1),e("FormItem",{attrs:{label:"选择标签"}},[t.changeTag?e("Tag",{attrs:{name:t.formData.group,closable:""},on:{"on-close":t.handleClose}},[t._v(t._s(t.formData.group))]):e("Input",{attrs:{size:"large",type:"text",placeholder:"请输入分组名"},on:{"on-blur":t.tagConfirm},model:{value:t.formData.group,callback:function(a){t.$set(t.formData,"group",a)},expression:"formData.group"}})],1),e("FormItem",{attrs:{label:"标签选项"}},t._l(t.tagList,function(a,o){return e("Tag",{attrs:{name:a.name,closable:""},on:{"on-close":function(e){t.deleteTag(a,o)}},nativeOn:{click:function(e){t.select(a)}}},[t._v(t._s(a.name))])})),e("FormItem",[e("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"primary"},on:{click:t.submitForm}},[t._v("提交")]),e("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"error"},on:{click:t.resetForm}},[t._v("重置")]),e("Button",{staticClass:"edit-btn",attrs:{size:"large",type:"warning"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},n=[],s=(e("7f7f"),e("bc3a"),{data:function(){return{formData:{token:"mingxingshuo"},tagList:[],changeTag:!1}},mounted:function(){this.showTagList(),"修改公号"===this.$route.name&&(this.formData=this.$route.query)},methods:{trim:function(){this.formData.appid=this.formData.appid.trim(),this.formData.appsecret=this.formData.appsecret.trim()},cancel:function(){this.$router.push("/manage/gonghao/tuoguan"),this.formData={token:"mingxingshuo"}},resetForm:function(){this.formData={token:"mingxingshuo"}},submitForm:function(){var t=this;"/manage/gonghao/tuoguan/create"===this.$route.path?this.$axios.post("/conf/create",this.formData).then(function(a){window.location.href="/manage/gonghao/tuoguan",t.$Message.info("新建成功"),t.formData={token:"mingxingshuo"}}):"/manage/gonghao/tuoguan/update"===this.$route.path&&this.$axios.post("/conf/update",this.formData).then(function(a){window.location.href="/manage/gonghao/tuoguan",t.$Message.info("修改成功"),t.formData={token:"mingxingshuo"}})},showTagList:function(){var t=this;this.$axios.get("/gonghaoTag").then(function(a){t.tagList=a.data.data})},tagConfirm:function(){var t=this;this.changeTag=!0,this.$axios.post("/gonghaoTag",{name:this.formData.group}).then(function(a){0==a.data.exist&&t.tagList.push(a.data.data)})},handleClose:function(){this.formData.group="",this.changeTag=!1},select:function(t){console.log(t),this.formData.group=t.name,this.changeTag=!0,console.log(this.formData)},deleteTag:function(t,a){var e=this;this.$Modal.confirm({title:"提示:",content:"确认删除这个分组吗？",onOk:function(){e.$axios.delete("/gonghaoTag/"+t._id).then(function(t){e.tagList.splice(1,a)})}})}}}),i=s,r=(e("88ba"),e("2877")),c=Object(r["a"])(i,o,n,!1,null,"2ec74d2c",null);c.options.__file="editInfo.vue";a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-9ef7093c.009f4fab.js.map