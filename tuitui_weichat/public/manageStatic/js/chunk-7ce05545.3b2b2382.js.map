{"version":3,"sources":["webpack:///./src/components/gonghao/tuoguan/editInfo.vue?4299","webpack:///./src/components/gonghao/tuoguan/editInfo.vue?97be","webpack:///src/components/gonghao/tuoguan/editInfo.vue","webpack:///./src/components/gonghao/tuoguan/editInfo.vue?c568","webpack:///./src/components/gonghao/tuoguan/editInfo.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editInfo_vue_vue_type_style_index_0_id_1794295a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editInfo_vue_vue_type_style_index_0_id_1794295a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$route","name","attrs","model","formData","label-position","label-width","label","prop","size","type","placeholder","value","callback","$$v","$set","expression","group","closable","on","on-close","handleClose","on-blur","tagConfirm","_l","item","index","$event","deleteTag","nativeOn","click","select","submitForm","resetForm","cancel","staticRenderFns","editInfovue_type_script_lang_js_","data","token","tagList","changeTag","mounted","showTagList","query","methods","$router","push","_this","path","$axios","post","then","res","window","location","href","$Message","info","_this2","get","_this3","exist","console","log","_this4","$Modal","confirm","title","content","onOk","delete","_id","splice","tuoguan_editInfovue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"manageStatic/js/chunk-7ce05545.3b2b2382.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=style&index=0&id=1794295a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=style&index=0&id=1794295a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-info\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$route.name == '修改公号' ? '编辑公号信息' : '接管新公号')+\"\\n    \")]),_c('Form',{staticClass:\"form-group\",attrs:{\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"公号名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入公号名称\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"appid\",\"prop\":\"appid\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入appid\"},model:{value:(_vm.formData.appid),callback:function ($$v) {_vm.$set(_vm.formData, \"appid\", $$v)},expression:\"formData.appid\"}})],1),_c('FormItem',{attrs:{\"label\":\"appsecret\",\"prop\":\"appsecret\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入appsecret\"},model:{value:(_vm.formData.appsecret),callback:function ($$v) {_vm.$set(_vm.formData, \"appsecret\", $$v)},expression:\"formData.appsecret\"}})],1),_c('FormItem',{attrs:{\"label\":\"token\",\"prop\":\"token\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入token\"},model:{value:(_vm.formData.token),callback:function ($$v) {_vm.$set(_vm.formData, \"token\", $$v)},expression:\"formData.token\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择标签\"}},[(_vm.changeTag)?_c('Tag',{attrs:{\"name\":_vm.formData.group,\"closable\":\"\"},on:{\"on-close\":_vm.handleClose}},[_vm._v(_vm._s(_vm.formData.group))]):_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入分组名\"},on:{\"on-blur\":_vm.tagConfirm},model:{value:(_vm.formData.group),callback:function ($$v) {_vm.$set(_vm.formData, \"group\", $$v)},expression:\"formData.group\"}})],1),_c('FormItem',{attrs:{\"label\":\"标签选项\"}},_vm._l((_vm.tagList),function(item,index){return _c('Tag',{attrs:{\"name\":item.name,\"closable\":\"\"},on:{\"on-close\":function($event){_vm.deleteTag(item, index)}},nativeOn:{\"click\":function($event){_vm.select(item)}}},[_vm._v(_vm._s(item.name))])})),_c('FormItem',[_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"error\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")]),_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"warning\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"edit-info\">\r\n        <h2 class=\"title\">\r\n            {{$route.name == '修改公号' ? '编辑公号信息' : '接管新公号'}}\r\n        </h2>\r\n        <Form :model=\"formData\" class=\"form-group\" label-position=\"right\" :label-width=\"100\">\r\n            <FormItem label=\"公号名称\" prop=\"name\">\r\n                <Input size=\"large\" type=\"text\" v-model=\"formData.name\" placeholder=\"请输入公号名称\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"appid\" prop=\"appid\">\r\n                <Input size=\"large\" type=\"text\" v-model=\"formData.appid\" placeholder=\"请输入appid\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"appsecret\" prop=\"appsecret\">\r\n                <Input size=\"large\" type=\"text\" v-model=\"formData.appsecret\" placeholder=\"请输入appsecret\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"token\" prop=\"token\">\r\n                <Input size=\"large\" type=\"text\" v-model=\"formData.token\" placeholder=\"请输入token\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"选择标签\">\r\n                <Tag v-if=\"changeTag\" :name=\"formData.group\" closable @on-close=\"handleClose\">{{formData.group}}</Tag>\r\n                <Input v-else size=\"large\" type=\"text\" v-model=\"formData.group\" placeholder=\"请输入分组名\" @on-blur=\"tagConfirm\"></Input>\r\n            </FormItem>\r\n            <FormItem label=\"标签选项\">\r\n                <Tag v-for=\"(item, index) in tagList\" :name=\"item.name\" @click.native=\"select(item)\" closable @on-close=\"deleteTag(item, index)\">{{item.name}}</Tag>\r\n            </FormItem>\r\n            <FormItem>\r\n                <Button class=\"edit-btn\" size=\"large\" type=\"primary\" @click=\"submitForm\">提交</Button>\r\n                <Button class=\"edit-btn\" size=\"large\" type=\"error\" @click=\"resetForm\">重置</Button>\r\n                <Button class=\"edit-btn\" size=\"large\" type=\"warning\" @click=\"cancel\">取消</Button>\r\n            </FormItem>\r\n        </Form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  data() {\r\n    return {\r\n      formData: {\r\n        token: \"mingxingshuo\"\r\n      },\r\n      tagList: [],\r\n      changeTag: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.showTagList()\r\n    if (this.$route.name === \"修改公号\") {\r\n      this.formData = this.$route.query;\r\n    }\r\n  },\r\n  methods: {\r\n    cancel() {\r\n      this.$router.push(\"/manage/gonghao/tuoguan\");\r\n      this.formData = {\r\n        token: \"mingxingshuo\"\r\n      };\r\n    },\r\n    resetForm() {\r\n      this.formData = {\r\n        token: \"mingxingshuo\"\r\n      };\r\n    },\r\n    submitForm() {\r\n      if (this.$route.path === \"/manage/gonghao/tuoguan/create\") {\r\n        this.$axios.post(\"/conf/create\", this.formData).then(res => {\r\n          window.location.href = \"/manage/gonghao/tuoguan\";\r\n          this.$Message.info(\"接管成功\");\r\n          this.formData = {\r\n            token: \"mingxingshuo\"\r\n          };\r\n        });\r\n      } else if (this.$route.path === \"/manage/gonghao/tuoguan/update\") {\r\n        this.$axios.post(\"/conf/update\", this.formData).then(res => {\r\n          // window.location.href = \"/manage/gonghao/tuoguan\";\r\n          this.$Message.info(\"修改成功\");\r\n          this.formData = {\r\n            token: \"mingxingshuo\"\r\n          };\r\n        });\r\n      }\r\n    },\r\n    showTagList() {\r\n      this.$axios.get(\"/gonghaoTag\").then(res => {\r\n        this.tagList = res.data.data;\r\n      });\r\n    },\r\n    tagConfirm() {\r\n      this.changeTag = true\r\n      this.$axios.post(\"/gonghaoTag\", {name: this.formData.group})\r\n      .then(res => {\r\n        if(res.data.exist == 0) {\r\n          this.tagList.push(res.data.data)\r\n        }\r\n      })\r\n    },\r\n    handleClose() {\r\n      this.formData.group = \"\";\r\n      this.changeTag = false\r\n    },\r\n    select(item) {\r\n      console.log(item)\r\n      this.formData.group = item.name;\r\n      this.changeTag = true\r\n      console.log(this.formData)\r\n    },\r\n    deleteTag(item, index) {\r\n      this.$Modal.confirm({\r\n        title: '提示:',\r\n        content: '确认删除这个分组吗？',\r\n        onOk: () => {\r\n          this.$axios.delete('/gonghaoTag/' + item._id)\r\n          .then(res => {\r\n            this.tagList.splice(1, index)\r\n          });\r\n        }\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.edit-info {\r\n  width: 500px;\r\n  margin: auto;\r\n  text-align: left;\r\n}\r\n.form-group {\r\n  width: 500px;\r\n}\r\n.title {\r\n  margin-bottom: 30px;\r\n}\r\n.edit-btn {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editInfo.vue?vue&type=template&id=1794295a&scoped=true&\"\nimport script from \"./editInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./editInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editInfo.vue?vue&type=style&index=0&id=1794295a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1794295a\",\n  null\n  \n)\n\ncomponent.options.__file = \"editInfo.vue\"\nexport default component.exports"],"sourceRoot":""}