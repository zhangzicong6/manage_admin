(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ed787a0"],{"092a":function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"tuoguan"},["公号托管"===t.$route.name?n("div",[n("Button",{staticClass:"create",attrs:{type:"success",to:"/manage/gonghao/tuoguan/create"}},[t._v("接管新公号")]),n("Button",{staticStyle:{float:"right"},attrs:{type:"warning"},on:{click:t.reset}},[n("span",{staticStyle:{color:"#000"}},[t._v("(慎用)")]),t._v("\n            重置code\n        ")]),n("div",{staticStyle:{clear:"both"}}),n("RadioGroup",{staticClass:"gonghao-tag",attrs:{type:"button"},on:{"on-change":t.showDataList},model:{value:t.gonghaoTag,callback:function(a){t.gonghaoTag=a},expression:"gonghaoTag"}},[n("Radio",{attrs:{label:"全部"}}),t._l(t.tagList,function(t,a){return n("Radio",{attrs:{label:t.name}})})],2),n("Table",{staticClass:"tuoguan-table",attrs:{stripe:"",columns:t.tuoguanHeader,data:t.tuoguanData}}),n("Page",{attrs:{"show-total":"",total:t.dataList.length,"page-size":10},on:{"on-change":t.changePage}})],1):t._e(),n("router-view")],1)},o=[],i=(n("cadf"),n("551c"),n("097d"),{data:function(){var t=this;return{isCreate:!0,code:null,name:"",gonghaoTag:"全部",tagList:[],dataList:[],tuoguanData:[],tuoguanHeader:[{key:"code",title:"code",align:"center",width:80},{key:"name",title:"公号名称",align:"center"},{title:"分组",align:"center",render:function(t,a){var n=""==a.row.group?"暂未分组":a.row.group;return t("span",{props:{}},n)}},{key:"token",title:"token",align:"center"},{title:"EncodingAESKey",align:"center",width:140,render:function(t,a){var n=a.row.EncodingAESKey;return t("div",{style:{padding:"5px 0"}},n)}},{key:"url",title:"链接",align:"center",render:function(t,a){var n="http://test.oorggt.top/weichat/"+a.row.code;return t("span",{props:{}},n)}},{title:"接管状态",align:"center",render:function(t,a){var n=-2==a.row.status?"未接管":-1==a.row.status?"接管中":"已接管";return t("span",{props:{}},n)}},{title:"Action",align:"center",width:240,render:function(a,n){var e=t;return a("div",[a("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){e.$router.push({name:"修改公号",query:n.row})}}},"编辑"),a("Button",{style:{marginRight:"10px"},props:{type:"warning",size:"small"},on:{click:function(){e.$router.push({name:"配置公号",query:{code:n.row.code}})}}},"配置"),a("Button",{props:{type:"error",size:"small"},style:{marginRight:"10px"},on:{click:function(){e.$Modal.confirm({title:"提示:",content:"确认删除这条内容吗？",onOk:function(){e.$axios.get("/conf/del",{params:{id:n.row._id}}).then(function(t){e.tuoguanData.splice(n.index,1),e.$Message.info(t.data.success)})}})}}},"删除"),a("Button",{props:{type:"success",size:"small",disabled:-2!=n.row.status},on:{click:function(){e.$Modal.confirm({title:"提示:",content:"确认开始接管吗？",onOk:function(){e.$axios.get("/conf/jieguan",{params:{code:n.row.code}}).then(function(t){e.$Message.info("开始接管"),e.$router.go(0)})}})}}},"接管")])}}]}},mounted:function(){this.showDataList(),this.showTagList()},methods:{showTagList:function(){var t=this;this.$axios.get("/gonghaoTag").then(function(a){t.tagList=a.data.data})},showDataList:function(){var t=this;this.$axios.get("/conf").then(function(a){var n=a.data.data;if("全部"==t.gonghaoTag)t.dataList=n;else for(var e=0;e<n.length;e++)t.gonghaoTag==n[e].group?t.dataList.push(n[e]):t.dataList=[];t.tuoguanData=t.dataList.slice(0,10)})},reset:function(){var t=this;this.$axios.get("/conf/reset").then(function(a){t.$Message.info(a.data.success)})},changePage:function(t){var a=10*(t-1),n=10*t;this.tuoguanData=this.dataList.slice(a,n),this.goTop()},goTop:function(){var t=this;t.timer=setInterval(function(){var a=document.documentElement.scrollTop||document.body.scrollTop,n=Math.floor(-a);document.documentElement.scrollTop=document.body.scrollTop=a+n,t.isTop=!0,0===a&&clearInterval(t.timer)},30)}}}),s=i,r=(n("b849"),n("2877")),c=Object(r["a"])(s,e,o,!1,null,"6c62d702",null);c.options.__file="tuoguan.vue";a["default"]=c.exports},b849:function(t,a,n){"use strict";var e=n("b903"),o=n.n(e);o.a},b903:function(t,a,n){}}]);
//# sourceMappingURL=chunk-5ed787a0.4383482e.js.map