{"version":3,"sources":["webpack:///./src/components/gonghao/tuoguan/editInfo.vue?4590","webpack:///./src/components/gonghao/tuoguan/editInfo.vue?5a5e","webpack:///src/components/gonghao/tuoguan/editInfo.vue","webpack:///./src/components/gonghao/tuoguan/editInfo.vue?c568","webpack:///./src/components/gonghao/tuoguan/editInfo.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editInfo_vue_vue_type_style_index_0_id_2ec74d2c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_editInfo_vue_vue_type_style_index_0_id_2ec74d2c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$route","name","attrs","model","formData","label-position","label-width","label","prop","size","type","placeholder","value","callback","$$v","$set","expression","on","on-blur","trim","group","closable","on-close","handleClose","tagConfirm","_l","item","index","$event","deleteTag","nativeOn","click","select","submitForm","resetForm","cancel","staticRenderFns","editInfovue_type_script_lang_js_","data","token","tagList","changeTag","mounted","showTagList","query","methods","appid","appsecret","$router","push","_this","path","$axios","post","then","res","window","location","href","$Message","info","_this2","get","_this3","exist","console","log","_this4","$Modal","confirm","title","content","onOk","delete","_id","splice","tuoguan_editInfovue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"manageStatic/js/chunk-9ef7093c.009f4fab.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=style&index=0&id=2ec74d2c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=style&index=0&id=2ec74d2c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit-info\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$route.name == '修改公号' ? '编辑公号信息' : '接管新公号')+\"\\n    \")]),_c('Form',{staticClass:\"form-group\",attrs:{\"model\":_vm.formData,\"label-position\":\"right\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"公号名称\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入公号名称\"},model:{value:(_vm.formData.name),callback:function ($$v) {_vm.$set(_vm.formData, \"name\", $$v)},expression:\"formData.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"appid\",\"prop\":\"appid\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入appid\"},on:{\"on-blur\":_vm.trim},model:{value:(_vm.formData.appid),callback:function ($$v) {_vm.$set(_vm.formData, \"appid\", $$v)},expression:\"formData.appid\"}})],1),_c('FormItem',{attrs:{\"label\":\"appsecret\",\"prop\":\"appsecret\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入appsecret\"},on:{\"on-blur\":_vm.trim},model:{value:(_vm.formData.appsecret),callback:function ($$v) {_vm.$set(_vm.formData, \"appsecret\", $$v)},expression:\"formData.appsecret\"}})],1),_c('FormItem',{attrs:{\"label\":\"token\",\"prop\":\"token\"}},[_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入token\"},model:{value:(_vm.formData.token),callback:function ($$v) {_vm.$set(_vm.formData, \"token\", $$v)},expression:\"formData.token\"}})],1),_c('FormItem',{attrs:{\"label\":\"选择标签\"}},[(_vm.changeTag)?_c('Tag',{attrs:{\"name\":_vm.formData.group,\"closable\":\"\"},on:{\"on-close\":_vm.handleClose}},[_vm._v(_vm._s(_vm.formData.group))]):_c('Input',{attrs:{\"size\":\"large\",\"type\":\"text\",\"placeholder\":\"请输入分组名\"},on:{\"on-blur\":_vm.tagConfirm},model:{value:(_vm.formData.group),callback:function ($$v) {_vm.$set(_vm.formData, \"group\", $$v)},expression:\"formData.group\"}})],1),_c('FormItem',{attrs:{\"label\":\"标签选项\"}},_vm._l((_vm.tagList),function(item,index){return _c('Tag',{attrs:{\"name\":item.name,\"closable\":\"\"},on:{\"on-close\":function($event){_vm.deleteTag(item, index)}},nativeOn:{\"click\":function($event){_vm.select(item)}}},[_vm._v(_vm._s(item.name))])})),_c('FormItem',[_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"提交\")]),_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"error\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")]),_c('Button',{staticClass:\"edit-btn\",attrs:{\"size\":\"large\",\"type\":\"warning\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"edit-info\">\n        <h2 class=\"title\">\n            {{$route.name == '修改公号' ? '编辑公号信息' : '接管新公号'}}\n        </h2>\n        <Form :model=\"formData\" class=\"form-group\" label-position=\"right\" :label-width=\"100\">\n            <FormItem label=\"公号名称\" prop=\"name\">\n                <Input size=\"large\" type=\"text\" v-model=\"formData.name\" placeholder=\"请输入公号名称\"></Input>\n            </FormItem>\n            <FormItem label=\"appid\" prop=\"appid\">\n                <Input size=\"large\" type=\"text\" v-model=\"formData.appid\" placeholder=\"请输入appid\" @on-blur=\"trim\"></Input>\n            </FormItem>\n            <FormItem label=\"appsecret\" prop=\"appsecret\">\n                <Input size=\"large\" type=\"text\" v-model=\"formData.appsecret\" placeholder=\"请输入appsecret\" @on-blur=\"trim\"></Input>\n            </FormItem>\n            <FormItem label=\"token\" prop=\"token\">\n                <Input size=\"large\" type=\"text\" v-model=\"formData.token\" placeholder=\"请输入token\"></Input>\n            </FormItem>\n            <FormItem label=\"选择标签\">\n                <Tag v-if=\"changeTag\" :name=\"formData.group\" closable @on-close=\"handleClose\">{{formData.group}}</Tag>\n                <Input v-else size=\"large\" type=\"text\" v-model=\"formData.group\" placeholder=\"请输入分组名\" @on-blur=\"tagConfirm\"></Input>\n            </FormItem>\n            <FormItem label=\"标签选项\">\n                <Tag v-for=\"(item, index) in tagList\" :name=\"item.name\" @click.native=\"select(item)\" closable @on-close=\"deleteTag(item, index)\">{{item.name}}</Tag>\n            </FormItem>\n            <FormItem>\n                <Button class=\"edit-btn\" size=\"large\" type=\"primary\" @click=\"submitForm\">提交</Button>\n                <Button class=\"edit-btn\" size=\"large\" type=\"error\" @click=\"resetForm\">重置</Button>\n                <Button class=\"edit-btn\" size=\"large\" type=\"warning\" @click=\"cancel\">取消</Button>\n            </FormItem>\n        </Form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nexport default {\n  data() {\n    return {\n      formData: {\n        token: \"mingxingshuo\"\n      },\n      tagList: [],\n      changeTag: false\n    };\n  },\n  mounted() {\n    this.showTagList()\n    if (this.$route.name === \"修改公号\") {\n      this.formData = this.$route.query;\n    }\n  },\n  methods: {\n    trim() {\n      this.formData.appid = this.formData.appid.trim()\n      this.formData.appsecret = this.formData.appsecret.trim()\n    },\n    cancel() {\n      this.$router.push(\"/manage/gonghao/tuoguan\");\n      this.formData = {\n        token: \"mingxingshuo\"\n      };\n    },\n    resetForm() {\n      this.formData = {\n        token: \"mingxingshuo\"\n      };\n    },\n    submitForm() {\n      if (this.$route.path === \"/manage/gonghao/tuoguan/create\") {\n        this.$axios.post(\"/conf/create\", this.formData).then(res => {\n          window.location.href = \"/manage/gonghao/tuoguan\";\n          this.$Message.info(\"新建成功\");\n          this.formData = {\n            token: \"mingxingshuo\"\n          };\n        });\n      } else if (this.$route.path === \"/manage/gonghao/tuoguan/update\") {\n        this.$axios.post(\"/conf/update\", this.formData).then(res => {\n          window.location.href = \"/manage/gonghao/tuoguan\";\n          this.$Message.info(\"修改成功\");\n          this.formData = {\n            token: \"mingxingshuo\"\n          };\n        });\n      }\n    },\n    showTagList() {\n      this.$axios.get(\"/gonghaoTag\").then(res => {\n        this.tagList = res.data.data;\n      });\n    },\n    tagConfirm() {\n      this.changeTag = true\n      this.$axios.post(\"/gonghaoTag\", {name: this.formData.group})\n      .then(res => {\n        if(res.data.exist == 0) {\n          this.tagList.push(res.data.data)\n        }\n      })\n    },\n    handleClose() {\n      this.formData.group = \"\";\n      this.changeTag = false\n    },\n    select(item) {\n      console.log(item)\n      this.formData.group = item.name;\n      this.changeTag = true\n      console.log(this.formData)\n    },\n    deleteTag(item, index) {\n      this.$Modal.confirm({\n        title: '提示:',\n        content: '确认删除这个分组吗？',\n        onOk: () => {\n          this.$axios.delete('/gonghaoTag/' + item._id)\n          .then(res => {\n            this.tagList.splice(1, index)\n          });\n        }\n      })\n    }\n  }\n};\n</script>\n\n<style scoped>\n.edit-info {\n  width: 500px;\n  margin: auto;\n  text-align: left;\n}\n.form-group {\n  width: 500px;\n}\n.title {\n  margin-bottom: 30px;\n}\n.edit-btn {\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editInfo.vue?vue&type=template&id=2ec74d2c&scoped=true&\"\nimport script from \"./editInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./editInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editInfo.vue?vue&type=style&index=0&id=2ec74d2c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ec74d2c\",\n  null\n  \n)\n\ncomponent.options.__file = \"editInfo.vue\"\nexport default component.exports"],"sourceRoot":""}